@page "/AddSupplierConacts/{id:int}"
@inject Radzen.DialogService dialogService
@inject Microsoft.Extensions.Localization.IStringLocalizer<Resource.Suppliers.AddSupplierConacts> Loc
@inject Microsoft.Extensions.Localization.IStringLocalizer<PointOfSale.DAL.Resources.Resources> Loc2
<div class="content d-flex flex-column flex-column-fluid" id="kt_content">

    <!--begin::Entry-->
    <div class="d-flex flex-column-fluid">
        <!--begin::Container-->
        <!--begin::Card-->
        <RadzenContent Container="main" Style="direction:rtl;text-align:right">
            <ChildContent>
                <div class="card card-custom">
                    <div class="card-body p-9" style="text-align: right;">
                        <div class="row">
                            <div class="col-md-12">
                                <RadzenHeading Size="H1" Text="@Loc["SupplierContacts"]">
                                </RadzenHeading>
                                <RadzenButton @ref="btnAddSupplierContact" Icon="add_circle_outline" style="margin-bottom: 10px" Text="@Loc["Add"]" Click="@btnAddSupplierContactClick">
                                </RadzenButton>
                                <RadzenGrid @ref="SupplierContactGrid" AllowFiltering="true" AllowPaging="true" AllowSorting="true" Data="SupplierContacts" TItem="SupplierContact">
                                    <Columns>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="Id" Title="Id" Visible="false" Type="integer">
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="ContactImage" Title="@Loc2["ContactImage"]" Type="string">
                                            <Template Context="data">
                                                <img src="@data.ContactImage" class="img-circle" width="100" />
                                            </Template>
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="SupplierId" SortProperty="Supplier.Name" FilterProperty="Supplier.Name" Title="@Loc2["Supplier"]" Type="string">
                                            <Template Context="data">
                                                @data.Supplier?.Name
                                            </Template>
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="ContactTypeId" SortProperty="ContactType.Type" FilterProperty="ContactType.Type" Title="@Loc2["ContactType"]" Type="string">
                                            <Template Context="data">
                                                @data.ContactType?.Type
                                            </Template>
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="ContactName" Title="@Loc2["ContactName"]" Type="string">
                                        </RadzenGridColumn>

                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="Phone" Title="@Loc2["Phone"]" Type="string">
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="Mobile" Title="@Loc2["Mobile"]" Type="string">
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="Email" Title="@Loc2["EmailAddress"]" Type="string">
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="CompanyAddressStreet1" Title="@Loc2["CompanyAddressStreet1"]" Type="string">
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="CompanyAddressStreet2" Title="@Loc2["CompanyAddressStreet2"]" Type="string">
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="City" Title="@Loc2["City"]" Type="string">
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Property="Country" Title="@Loc2["Country"]" Type="string">
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Bubble="false" Filterable="false" Sortable="false" TextAlign="Radzen.TextAlign.Center" Width="100px">
                                            <Template Context="order">
                                                <RadzenButton Icon="edit" Size="Radzen.ButtonSize.Small" Click="@(args => EditRow(order))">
                                                </RadzenButton>
                                            </Template>
                                        </RadzenGridColumn>
                                        <RadzenGridColumn TItem="SupplierContact" Context="SupplierContact" Bubble="false" Filterable="false" Sortable="false" TextAlign="Radzen.TextAlign.Center" Width="70px">
                                            <Template Context="order">
                                                <RadzenButton ButtonStyle="Radzen.ButtonStyle.Danger" Icon="close" Size="Radzen.ButtonSize.Small" Click="@(args => DeleteRow(order))">
                                                </RadzenButton>
                                            </Template>
                                            <EditTemplate Context="order">
                                                <RadzenButton ButtonStyle="Radzen.ButtonStyle.Danger" Icon="close" Size="Radzen.ButtonSize.Small" Click="@(args => DeleteRow(order))">
                                                </RadzenButton>
                                            </EditTemplate>
                                        </RadzenGridColumn>
                                    </Columns>
                                </RadzenGrid>

                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="row">
                            <div class="col-md-4 col-md-offset-8">
                                <NavLink href="/AddSupplier" class="btn btn-primary">@Loc["AddNewSupplier"]</NavLink>
                                <NavLink href="/SuppliersList" class="btn btn-danger">@Loc["BackToList"]</NavLink>
                            </div>
                        </div>
                    </div>
                </div>
            </ChildContent>
        </RadzenContent>
    </div>
</div>